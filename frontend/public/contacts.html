<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ö–æ–Ω—Ç–∞–∫—Ç—ã ‚Äî SmartCook</title>
    <link rel="stylesheet" href="css/style.css?v=15">
    <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU&apikey=031b1ebf-5bda-4db3-85a9-e8504f6cd99a" type="text/javascript"></script>
    <style>
        .map-title {
            text-align: center;
            padding: 40px 20px 20px;
        }
        
        .map-title h1 {
            font-size: 42px;
            font-weight: 700;
            color: #7dd3fc;
            text-shadow: 0 0 15px rgba(125,211,252,0.5);
        }
        
        .map-controls {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin: 20px 0;
        }
        
        .map-btn {
            padding: 12px 24px;
            background: rgba(56,189,248,0.2);
            border: 1px solid rgba(56,189,248,0.5);
            color: white;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .map-btn:hover {
            background: rgba(56,189,248,0.4);
            transform: translateY(-2px);
        }
        
        .map-info {
            background: rgba(255,255,255,0.05);
            padding: 25px;
            border-radius: 16px;
            margin-top: 30px;
        }
        
        .map-info h3 {
            color: #38bdf8;
            margin-bottom: 15px;
        }
        
        .map-info p {
            margin: 8px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
    </style>
</head>
<body>

<header class="header">
    <div class="header-left">
        <div class="logo-block">
            <img src="images/logotip.png" alt="SmartCook logo" class="logo-img">
            <div class="logo-text">SmartCook</div>
        </div>

        <nav class="nav">
            <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
            <a href="catalog.html">–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤</a>
            <a href="sales.html">–ê–∫—Ü–∏–∏</a>
            <a href="favorites.html">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</a>
            <a href="contacts.html">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
        </nav>
    </div>

    <div class="header-right">
        <div class="auth-actions guest">
            <a href="login.html" class="auth-btn">–í—Ö–æ–¥</a>
            <a href="register.html" class="auth-btn auth-btn-outline">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
        </div>

        <div class="auth-actions user">
            <a href="profile.html" class="auth-btn">–ü—Ä–æ—Ñ–∏–ª—å</a>
            <a href="#" class="auth-btn logout">–í—ã–π—Ç–∏</a>
        </div>

        <a href="cart.html" class="cart-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 20C19 21.11 18.11 22 17 22C15.89 22 15 21.1 15 20C15 18.89 15.89 18 17 18C18.11 18 19 18.9 19 20M7 18C5.89 18 5 18.89 5 20C5 21.1 5.89 22 7 22C8.11 22 9 21.11 9 20S8.11 18 7 18M7.2 14.63L7.17 14.75C7.17 14.89 7.28 15 7.42 15H19V17H7C5.89 17 5 16.1 5 15C5 14.65 5.09 14.32 5.24 14.04L6.6 11.59L3 4H1V2H4.27L5.21 4H20C20.55 4 21 4.45 21 5C21 5.17 20.95 5.34 20.88 5.5L17.3 11.97C16.96 12.58 16.3 13 15.55 13H8.1L7.2 14.63M8.5 11H10V9H7.56L8.5 11M11 9V11H14V9H11M14 8V6H11V8H14M17.11 9H15V11H16L17.11 9M18.78 6H15V8H17.67L18.78 6M6.14 6L7.08 8H10V6H6.14Z"/>
            </svg>
            <span id="cart-count" class="cart-count" style="display: none;">0</span>
        </a>
    </div>
</header>

<section class="map-title">
    <h1>–ú—ã –Ω–∞ –∫–∞—Ä—Ç–µ</h1>
</section>

<main style="max-width: 1200px; margin: 0 auto; padding: 0 20px 60px;">
    <div style="position: relative;">
        <div id="map-loader" style="position: absolute; top: 0; left: 0; width: 100%; height: 500px; display: flex; align-items: center; justify-content: center; background: rgba(10,10,15,0.9); border-radius: 16px; z-index: 10;">
            <div style="text-align: center;">
                <div style="font-size: 48px; margin-bottom: 10px;">üó∫Ô∏è</div>
                <div style="color: #38bdf8;">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ä—Ç—ã...</div>
            </div>
        </div>
        <div id="map" style="width: 100%; height: 500px; border-radius: 16px; overflow: hidden; opacity: 0; transition: opacity 0.3s;"></div>
    </div>
    
    <div class="map-controls">
        <button class="map-btn" onclick="zoomIn()">+ –£–≤–µ–ª–∏—á–∏—Ç—å</button>
        <button class="map-btn" onclick="zoomOut()">- –£–º–µ–Ω—å—à–∏—Ç—å</button>
        <button class="map-btn" onclick="findMe()" style="background: rgba(236,72,153,0.2); border-color: rgba(236,72,153,0.5);">üìç –ú–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ</button>
        <button class="map-btn" onclick="showShop()" style="background: rgba(168,85,247,0.2); border-color: rgba(168,85,247,0.5);">üè™ –í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –º–∞–≥–∞–∑–∏–Ω—É</button>
    </div>
    
    <div class="map-info">
        <h3>–ö–∞–∫ –¥–æ–±—Ä–∞—Ç—å—Å—è</h3>
        <p>üìç <strong>–ê–¥—Ä–µ—Å:</strong> –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è, 15</p>
        <p>üöá <strong>–ú–µ—Ç—Ä–æ:</strong> —Å—Ç. "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è" (5 –º–∏–Ω—É—Ç –ø–µ—à–∫–æ–º)</p>
        <p>üöó <strong>–ü–∞—Ä–∫–æ–≤–∫–∞:</strong> –ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø–∞—Ä–∫–æ–≤–∫–∞ –Ω–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∏ –¢–¶</p>
        <p>üïí <strong>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã:</strong> –ü–Ω-–ü—Ç: 10:00-20:00, –°–±-–í—Å: 11:00-18:00</p>
        <p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> +7 (900) 123-45-67</p>
        <p>‚úâÔ∏è <strong>Email:</strong> info@smartcook.ru</p>
    </div>
</main>

<footer class="footer">
    <div class="footer-content">
        <div class="footer-brand">
            <h3>SmartCook</h3>
            <p>–õ—É—á—à–∞—è —Ç–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –∫—É—Ö–Ω–∏</p>
        </div>

        <div class="footer-links">
            <h4>–ü–æ–º–æ—â—å</h4>
            <a href="help.html#delivery">–î–æ—Å—Ç–∞–≤–∫–∞ –∏ –æ–ø–ª–∞—Ç–∞</a>
            <a href="help.html#warranty">–ì–∞—Ä–∞–Ω—Ç–∏—è –∏ –≤–æ–∑–≤—Ä–∞—Ç</a>
            <a href="help.html#reviews">–û—Ç–∑—ã–≤—ã</a>
        </div>

        <div class="footer-links">
            <h4>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h4>
            <a href="catalog.html?category=2">–ö–æ—Ñ–µ–º–∞—à–∏–Ω—ã</a>
            <a href="catalog.html?category=1">–•–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫–∏</a>
            <a href="catalog.html?category=3">–ü–æ—Å—É–¥–æ–º–æ–µ—á–Ω—ã–µ –º–∞—à–∏–Ω—ã</a>
        </div>

        <div class="footer-contacts">
            <h4>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h4>
            <p>üìç –≥. –ú–æ—Å–∫–≤–∞, —É–ª. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è, 15</p>
            <p>+7 (900) 123-45-67</p>
            <p>‚úâÔ∏è info@smartcook.ru</p>
        </div>
    </div>

    <p class="footer-copy">¬© 2025 SmartCook. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
</footer>

<script src="js/config.js"></script>`n<script src="js/api-v14.js"></script>
<script src="js/cart.js"></script>
<script src="js/auth.js"></script>
<script src="js/main.js"></script>
<script>
// –ì–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –∫–∞—Ä—Ç—ã
let yandexMap = null;
const shopCoordinates = [55.751244, 37.618423];

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–∞—Ä—Ç—ã
ymaps.ready(function() {
    yandexMap = new ymaps.Map('map', {
        center: shopCoordinates,
        zoom: 16,
        controls: ['zoomControl', 'fullscreenControl', 'typeSelector']
    });
    
    // –ú–µ—Ç–∫–∞ –º–∞–≥–∞–∑–∏–Ω–∞
    const shopPlacemark = new ymaps.Placemark(shopCoordinates, {
        balloonContentHeader: 'SmartCook',
        balloonContentBody: '—É–ª. –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∞—è, 15<br>–ú–æ—Å–∫–≤–∞<br>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (900) 123-45-67<br>–ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: 10:00-20:00',
        hintContent: '–ú–∞–≥–∞–∑–∏–Ω SmartCook'
    }, {
        preset: 'islands#blueShoppingIcon',
        iconColor: '#38bdf8'
    });
    
    yandexMap.geoObjects.add(shopPlacemark);
    shopPlacemark.balloon.open();
    
    // –°–∫—Ä—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç—É
    setTimeout(() => {
        const loader = document.getElementById('map-loader');
        const mapElement = document.getElementById('map');
        if (loader) loader.style.opacity = '0';
        if (mapElement) mapElement.style.opacity = '1';
        setTimeout(() => {
            if (loader) loader.style.display = 'none';
        }, 400);
    }, 500);
    
    console.log('–ö–∞—Ä—Ç–∞ –Ø–Ω–¥–µ–∫—Å —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–∞!');
});

// –§—É–Ω–∫—Ü–∏–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞—Ä—Ç–æ–π
function zoomIn() {
    if (yandexMap) {
        const currentZoom = yandexMap.getZoom();
        yandexMap.setZoom(currentZoom + 1, {duration: 300});
    }
}

function zoomOut() {
    if (yandexMap) {
        const currentZoom = yandexMap.getZoom();
        yandexMap.setZoom(currentZoom - 1, {duration: 300});
    }
}

function findMe() {
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
            if (yandexMap) {
                const userCoords = [position.coords.latitude, position.coords.longitude];
                
                // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—É—é –º–µ—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                yandexMap.geoObjects.each(function(geoObject) {
                    if (geoObject.options && geoObject.options.preset === 'islands#greenDotIcon') {
                        yandexMap.geoObjects.remove(geoObject);
                    }
                });
                
                // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—É—é –º–µ—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const userPlacemark = new ymaps.Placemark(userCoords, {
                    hintContent: '–í—ã –∑–¥–µ—Å—å',
                    balloonContent: '–í–∞—à–µ —Ç–µ–∫—É—â–µ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ'
                }, {
                    preset: 'islands#greenDotIcon'
                });
                
                yandexMap.geoObjects.add(userPlacemark);
                yandexMap.setCenter(userCoords, 15);
                
                // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –º–∞—Ä—à—Ä—É—Ç
                showRoute(userCoords);
            }
        }, function(error) {
            alert('–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤–∞—à–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏.');
        });
    } else {
        alert('–ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–∞—à–∏–º –±—Ä–∞—É–∑–µ—Ä–æ–º');
    }
}

function showShop() {
    if (yandexMap) {
        yandexMap.setCenter(shopCoordinates, 16);
        
        // –£–¥–∞–ª—è–µ–º –º–µ—Ç–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
        yandexMap.geoObjects.each(function(geoObject) {
            if (geoObject.options && geoObject.options.preset === 'islands#greenDotIcon') {
                yandexMap.geoObjects.remove(geoObject);
            }
        });
    }
}

function showRoute(userCoords) {
    if (yandexMap) {
        // –°–æ–∑–¥–∞–µ–º –º–∞—Ä—à—Ä—É—Ç
        const multiRoute = new ymaps.multiRouter.MultiRoute({
            referencePoints: [
                userCoords,
                shopCoordinates
            ],
            params: {
                routingMode: 'pedestrian'
            }
        }, {
            boundsAutoApply: true
        });
        
        // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π –º–∞—Ä—à—Ä—É—Ç
        yandexMap.geoObjects.each(function(geoObject) {
            if (geoObject instanceof ymaps.multiRouter.MultiRoute) {
                yandexMap.geoObjects.remove(geoObject);
            }
        });
        
        // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç
        yandexMap.geoObjects.add(multiRoute);
    }
}
</script>

</body>
</html>