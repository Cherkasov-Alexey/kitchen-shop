<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Личный кабинет — SmartCook</title>
    <link rel="stylesheet" href="css/style.css?v=18">
    <link rel="stylesheet" href="css/profile.css">
</head>
<body>

<header class="header">
    <div class="header-left">
        <div class="logo-block">
            <img src="images/logotip.png" alt="SmartCook logo" class="logo-img">
            <div class="logo-text">SmartCook</div>
        </div>

        <nav class="nav">
            <a href="index.html">Главная</a>
            <a href="catalog.html">Каталог товаров</a>
            <a href="sales.html">Акции</a>
            <a href="favorites.html">Избранное</a>
            
        </nav>
    </div>

    <div class="header-right">
        <div class="auth-actions user">
            <a href="profile.html" class="auth-btn" id="profile-name">Профиль</a>
            <a href="#" class="auth-btn logout">Выйти</a>
        </div>
        
        <a href="cart.html" class="cart-icon">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
                <path d="M19 20C19 21.11 18.11 22 17 22C15.89 22 15 21.1 15 20C15 18.89 15.89 18 17 18C18.11 18 19 18.9 19 20M7 18C5.89 18 5 18.89 5 20C5 21.1 5.89 22 7 22C8.11 22 9 21.11 9 20S8.11 18 7 18M7.2 14.63L7.17 14.75C7.17 14.89 7.28 15 7.42 15H19V17H7C5.89 17 5 16.1 5 15C5 14.65 5.09 14.32 5.24 14.04L6.6 11.59L3 4H1V2H4.27L5.21 4H20C20.55 4 21 4.45 21 5C21 5.17 20.95 5.34 20.88 5.5L17.3 11.97C16.96 12.58 16.3 13 15.55 13H8.1L7.2 14.63M8.5 11H10V9H7.56L8.5 11M11 9V11H14V9H11M14 8V6H11V8H14M17.11 9H15V11H16L17.11 9M18.78 6H15V8H17.67L18.78 6M6.14 6L7.08 8H10V6H6.14Z"/>
            </svg>
            <span id="cart-count" class="cart-count" style="display: none;">0</span>
        </a>
    </div>
</header>

<main class="profile-container">
    <h1>Личный кабинет</h1>

    <div class="profile-card">
        <p><strong>Имя:</strong> <span id="user-name">Загрузка...</span></p>
        <p><strong>Email:</strong> <span id="user-email">Загрузка...</span></p>
        <p><strong>Дата регистрации:</strong> <span id="user-reg-date">Загрузка...</span></p>

        <button class="logout-btn" id="logout-btn">Выйти</button>
    </div>
</main>

<footer class="footer">
    <div class="footer-content">
        <div class="footer-brand">
            <h3>SmartCook</h3>
            <p>Лучшая техника для современной кухни</p>
        </div>

        <div class="footer-links">
            <h4>Помощь</h4>
            <a href="help.html#delivery">Доставка и оплата</a>
            <a href="help.html#warranty">Гарантия и возврат</a>
            <a href="help.html#reviews">Отзывы</a>
        </div>

        <div class="footer-links">
            <h4>Категории</h4>
            <a href="catalog.html?category=2">Кофемашины</a>
            <a href="catalog.html?category=1">Холодильники</a>
            <a href="catalog.html?category=3">Посудомоечные машины</a>
        </div>

        <div class="footer-contacts">
            <h4>Контакты</h4>
            <p>г. Санкт-Петербург, Вознесенский пр., д. 23</p>
            <p>+7 (931) 123-45-67</p>
            <p>info@smartcook.ru</p>
            <p>Пн-Пт: 10:00-20:00, Сб-Вс: 11:00-18:00</p>
        </div>
    </div>

    <p class="footer-copy">© 2025 SmartCook. Все права защищены.</p>
</footer>

<script src="js/config.js?v=16"></script>`n<script src="js/api-v14.js?v=16"></script>
<script src="js/cart.js?v=16"></script>
<script src="js/auth.js?v=16"></script>
<script src="js/main.js?v=16"></script>
<script>
// Динамическая загрузка данных пользователя
document.addEventListener('DOMContentLoaded', function() {
    const currentUser = JSON.parse(localStorage.getItem('currentUser'));
    
    if (currentUser) {
        // Заполняем данные
        document.getElementById('user-name').textContent = currentUser.user_name || 'Не указано';
        document.getElementById('user-email').textContent = currentUser.email || 'Не указано';
        
        // Форматируем дату регистрации
        if (currentUser.created_at) {
            const date = new Date(currentUser.created_at);
            const dateOnly = date.toISOString().split('T')[0];
            const [year, month, day] = dateOnly.split('-');
            const months = ['января', 'февраля', 'марта', 'апреля', 'мая', 'июня', 'июля', 'августа', 'сентября', 'октября', 'ноября', 'декабря'];
            document.getElementById('user-reg-date').textContent = `${parseInt(day)} ${months[parseInt(month) - 1]} ${year} г.`;
        } else {
            document.getElementById('user-reg-date').textContent = 'Неизвестно';
        }
            
        // Обновляем имя в шапке
        const profileName = document.getElementById('profile-name');
        if (profileName) {
            profileName.textContent = currentUser.user_name;
        }
    } else {
        // Если пользователь не авторизован, перенаправляем на вход
        window.location.href = 'login.html';
    }
    
    // Обработка кнопки выхода
    const logoutBtn = document.getElementById('logout-btn');
    if (logoutBtn) {
        logoutBtn.addEventListener('click', function() {
            localStorage.removeItem('currentUser');
            window.location.href = 'index.html';
        });
    }
});
</script>

</body>
</html>
